# Fluent Learner v2

<p align="center">
  <strong>AI é©±åŠ¨çš„æ²‰æµ¸å¼è¯­è¨€å­¦ä¹ åº”ç”¨</strong>
</p>

<p align="center">
  å°†ä»»æ„è§†é¢‘å†…å®¹è½¬åŒ–ä¸ºäº¤äº’å¼è¯­è¨€è¯¾ç¨‹ï¼Œæ”¯æŒå®æ—¶ç¿»è¯‘ã€å•è¯æŸ¥è¯¢å’Œ AI è¯­è¨€å¯¼å¸ˆ
</p>

---

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **è§†é¢‘å¯¼å…¥** - æ”¯æŒæœ¬åœ°è§†é¢‘æˆ–é€šè¿‡ URL ç›´æ¥ä¸‹è½½ï¼ˆåŸºäº yt-dlpï¼Œæ”¯æŒ YouTubeã€Bilibili ç­‰ï¼‰
- **AI å­—å¹•ç”Ÿæˆ** - ä½¿ç”¨ OpenAI Whisper / Azure Whisper è‡ªåŠ¨è½¬å½•å¹¶ç”Ÿæˆæ—¶é—´æˆ³å­—å¹•
- **åŒè¯­å­—å¹•** - ä¸€é”®ç¿»è¯‘å­—å¹•ï¼Œæ”¯æŒä¸­ã€è‹±ã€æ—¥ã€æ³•ã€å¾·ã€è¥¿ç­ç‰™è¯­ç­‰å¤šè¯­è¨€
- **äº¤äº’å¼è¯å…¸** - ç‚¹å‡»ä»»æ„å•è¯å³æ—¶è·å–å®šä¹‰ã€å‘éŸ³ã€ç¿»è¯‘å’Œä¾‹å¥
- **AI è¯­å¢ƒè§£é‡Š** - é€‰ä¸­å¥å­è·å–è¯­æ³•åˆ†æå’Œæ–‡åŒ–èƒŒæ™¯è§£è¯»
- **AI è¯­è¨€å¯¼å¸ˆ** - åŸºäºè§†é¢‘å†…å®¹çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥å¯¹è¯ç»ƒä¹ 
- **é—´éš”é‡å¤å¤ä¹ ** - SM-2 ç®—æ³•é©±åŠ¨çš„ç”Ÿè¯æœ¬ï¼Œç§‘å­¦å®‰æ’å¤ä¹ è®¡åˆ’

### æŠ€æœ¯äº®ç‚¹

- **å¤šå±‚ç¿»è¯‘ç¼“å­˜** - æ•°æ®åº“ â†’ å†…å­˜ â†’ AI API ä¸‰çº§ç¼“å­˜ï¼Œæ˜¾è‘—é™ä½ API è°ƒç”¨
- **Provider æŠ½è±¡å±‚** - çµæ´»åˆ‡æ¢ Azure OpenAI / OpenAI / Ollama æœ¬åœ°æ¨¡å‹
- **ç±»å‹å®‰å…¨** - Python æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹å®šä¹‰
- **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„è·¯ç”±åˆ†å±‚å’ŒæœåŠ¡è§£è€¦

---

## æŠ€æœ¯æ ˆ

### å‰ç«¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| [React](https://reactjs.org/) + [TypeScript](https://www.typescriptlang.org/) | UI æ¡†æ¶ |
| [Vite](https://vitejs.dev/) | æ„å»ºå·¥å…· |
| [Electron](https://www.electronjs.org/) | æ¡Œé¢è¿è¡Œæ—¶ |
| [TanStack Query](https://tanstack.com/query) | çŠ¶æ€ç®¡ç†ä¸æ•°æ®ç¼“å­˜ |
| [Radix UI](https://www.radix-ui.com/) | æ— éšœç¢ç»„ä»¶åº“ |
| [TanStack Virtual](https://tanstack.com/virtual) | è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§é‡å­—å¹•é«˜æ€§èƒ½æ¸²æŸ“ï¼‰ |

### åç«¯

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| [FastAPI](https://fastapi.tiangolo.com/) | API æœåŠ¡å™¨ |
| [SQLModel](https://sqlmodel.tiangolo.com/) | ORMï¼ˆSQLiteï¼‰ |
| [LangChain](https://www.langchain.com/) | LLM ç¼–æ’æ¡†æ¶ |
| [LangGraph](https://langchain-ai.github.io/langgraph/) | AI Agent å·¥ä½œæµ |
| [yt-dlp](https://github.com/yt-dlp/yt-dlp) | è§†é¢‘ä¸‹è½½ |

### AI æ¨¡å‹æ”¯æŒ

- **Azure OpenAI** - GPT-4o / GPT-4 / gpt-5.2-chatï¼ˆæ¨ç†æ¨¡å‹ï¼‰
- **OpenAI** - GPT-4 Turbo / GPT-4o
- **Ollama** - æœ¬åœ°æ¨¡å‹ï¼ˆLlamaã€Mistral ç­‰ï¼‰
- **Whisper** - è¯­éŸ³è½¬æ–‡å­—ï¼ˆAzure / OpenAIï¼‰

---

## é¡¹ç›®ç»“æ„

```
fluent-learner-v2/
â”œâ”€â”€ src/                      # React å‰ç«¯
â”‚   â”œâ”€â”€ components/           # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SubtitleSidebar   # äº¤äº’å¼å­—å¹•é¢æ¿
â”‚   â”‚   â”œâ”€â”€ WordPopover       # å•è¯å¼¹å‡ºå¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ TutorPanel        # AI å¯¼å¸ˆé¢æ¿
â”‚   â”‚   â”œâ”€â”€ LibraryGrid       # åª’ä½“åº“ç½‘æ ¼
â”‚   â”‚   â””â”€â”€ NotebookView      # ç”Ÿè¯æœ¬è§†å›¾
â”‚   â”œâ”€â”€ services/api.ts       # API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ hooks/                # React Hooks
â”‚   â””â”€â”€ types/generated.ts    # è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹
â”‚
â”œâ”€â”€ backend/                  # Python åç«¯
â”‚   â”œâ”€â”€ main.py               # FastAPI å…¥å£ï¼ˆè·¯ç”±æ³¨å†Œï¼‰
â”‚   â”œâ”€â”€ routes/               # API è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ media.py          # åª’ä½“ CRUDã€è½¬å½•ã€ç¿»è¯‘
â”‚   â”‚   â”œâ”€â”€ vocab.py          # ç”Ÿè¯æœ¬ & SRS å¤ä¹ 
â”‚   â”‚   â”œâ”€â”€ ai.py             # AI åŠŸèƒ½ç«¯ç‚¹
â”‚   â”‚   â””â”€â”€ streaming.py      # è§†é¢‘æµä»£ç†
â”‚   â”œâ”€â”€ ai/                   # AI æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ config.py         # ç»Ÿä¸€é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ providers/        # LLM/Whisper æŠ½è±¡
â”‚   â”‚   â”œâ”€â”€ chains.py         # LangChain é“¾
â”‚   â”‚   â””â”€â”€ graph.py          # LangGraph å·¥ä½œæµ
â”‚   â”œâ”€â”€ ai_service.py         # é«˜çº§ AI æœåŠ¡
â”‚   â”œâ”€â”€ translation_cache.py  # ç¿»è¯‘ç¼“å­˜
â”‚   â””â”€â”€ models.py             # æ•°æ®åº“æ¨¡å‹
â”‚
â”œâ”€â”€ electron/                 # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â””â”€â”€ bug-fix-docs/         # Bug ä¿®å¤è®°å½•
â””â”€â”€ dev.bat / dev.sh          # ä¸€é”®å¯åŠ¨è„šæœ¬
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18
- **Python** >= 3.10
- **FFmpeg** - éœ€æ·»åŠ åˆ°ç³»ç»Ÿ PATH

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/haanc/Fluent-Learner-v2.git
cd Fluent-Learner-v2

# 2. åç«¯è®¾ç½®
cd backend
python -m venv venv

# Windows:
.\venv\Scripts\activate
# macOS/Linux:
# source venv/bin/activate

pip install -r requirements.txt
cd ..

# 3. å‰ç«¯è®¾ç½®
npm install
```

### é…ç½® AI æœåŠ¡

å¤åˆ¶é…ç½®æ¨¡æ¿å¹¶å¡«å†™ä½ çš„ API å¯†é’¥ï¼š

```bash
cp backend/.env.example backend/.env
```

**backend/.env** ç¤ºä¾‹ï¼š

```ini
# ===== Azure OpenAI (æ¨è) =====
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key
AZURE_OPENAI_API_VERSION=2024-02-01
AZURE_OPENAI_DEPLOYMENT_CHAT=gpt-4o
AZURE_OPENAI_DEPLOYMENT_WHISPER=whisper

# ===== æˆ–ä½¿ç”¨ OpenAI =====
# OPENAI_API_KEY=sk-your-key
# OPENAI_MODEL_NAME=gpt-4-turbo

# ===== æˆ–ä½¿ç”¨ Ollama æœ¬åœ°æ¨¡å‹ =====
# OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL_NAME=llama3
```

### å¯åŠ¨åº”ç”¨

**æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰**

```bash
# Windows
dev.bat

# macOS/Linux
./dev.sh
```

**æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨**

```bash
# ç»ˆç«¯ 1: å¯åŠ¨åç«¯
cd backend
.\venv\Scripts\activate  # Windows
uvicorn main:app --reload --port 8000

# ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯
npm run dev
```

åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ï¼ŒElectron çª—å£ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

---

## ä½¿ç”¨æŒ‡å—

### 1. å¯¼å…¥è§†é¢‘

- ç‚¹å‡» **"+ æ·»åŠ è§†é¢‘"** æŒ‰é’®
- ç²˜è´´ YouTube / Bilibili ç­‰è§†é¢‘é“¾æ¥
- ç­‰å¾…ä¸‹è½½å’Œ AI è½¬å½•å®Œæˆ

### 2. å­¦ä¹ æ¨¡å¼

- **ç‚¹å‡»å•è¯** â†’ æŸ¥çœ‹å®šä¹‰ã€å‘éŸ³ã€ç¿»è¯‘
- **ç‚¹å‡» ğŸŒ** â†’ å¼€å¯åŒè¯­å­—å¹•
- **ç‚¹å‡» âœ¨** â†’ AI åˆ†æå¥å­è¯­æ³•å’Œæ–‡åŒ–èƒŒæ™¯
- **é€‰ä¸­æ–‡æœ¬** â†’ å³é”®èœå•æä¾›æ›´å¤šé€‰é¡¹

### 3. ç”Ÿè¯æœ¬

- ç‚¹å‡»å•è¯å¡ç‰‡ä¸­çš„ **"ä¿å­˜"** æ”¶è—ç”Ÿè¯
- åœ¨ **Notebook** æ ‡ç­¾é¡µæŸ¥çœ‹å’Œå¤ä¹ 
- ç³»ç»Ÿä½¿ç”¨ SM-2 ç®—æ³•æ™ºèƒ½å®‰æ’å¤ä¹ æ—¶é—´

---

## å¼€å‘ç›¸å…³

### ç”Ÿæˆ TypeScript ç±»å‹

å½“ä¿®æ”¹ Python æ¨¡å‹åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åŒæ­¥ç±»å‹ï¼š

```bash
npm run gen:types
```

### é¡¹ç›®è„šæœ¬

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `npm run dev` | å¯åŠ¨ Electron å¼€å‘æ¨¡å¼ |
| `npm run dev:web` | ä»…å¯åŠ¨ Web å¼€å‘æœåŠ¡å™¨ |
| `npm run build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `npm run gen:types` | ç”Ÿæˆ TypeScript ç±»å‹ |

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Pull Requestï¼æäº¤å‰è¯·ç¡®ä¿ï¼š

1. ä»£ç é€šè¿‡ ESLint æ£€æŸ¥
2. æ–°åŠŸèƒ½é™„å¸¦ç›¸åº”æµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## è®¸å¯è¯

[MIT](LICENSE)

---

<p align="center">
  Made with AI by <a href="https://github.com/haanc">@haanc</a>
</p>
